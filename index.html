<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>AÅŸk GÃ¼cÃ¼</title>
<style>
body{
margin:0;
background:#111;
color:white;
font-family:monospace;
text-align:center;
}

canvas{
background:#1b2b1b;
display:none;
margin:auto;
border:3px solid #444;
}

.screen{
padding-top:40px;
}

button{
padding:12px 20px;
font-size:18px;
margin:10px;
border:none;
border-radius:10px;
background:#ff4d6d;
color:white;
}

#envelope{
font-size:80px;
cursor:pointer;
}
</style>
</head>

<body>

<div id="menu" class="screen">
<h1>AÅK GÃœCÃœ</h1>
<p>Karakter SeÃ§</p>
<button onclick="selectCharacter('erkek')">ğŸ‘¨ Selami</button>
<button onclick="selectCharacter('kadin')">ğŸ‘© CanÄ±m KarÄ±m</button>
</div>

<div id="messageScreen" class="screen" style="display:none;">
<h2 id="romanticText"></h2>
</div>

<div id="finalScreen" class="screen" style="display:none;">
<h2>Oyun Bitti â¤ï¸</h2>
<p>Skor: <span id="lastScore"></span></p>

<div id="envelope" onclick="openLetter()">ğŸ’Œ</div>

<div id="letter" style="display:none;">
<p>
Selamiâ€™den sana Ã¶zel...  
Sen harikasÄ±n.  
HayatÄ±mÄ±n en gÃ¼zel mucizesisin.  
Ä°yi ki varsÄ±n canÄ±m karÄ±m â¤ï¸
</p>
</div>

<button onclick="restart()">Tekrar Oyna</button>
</div>

<canvas id="game" width="320" height="480"></canvas>

<script>

let canvas = document.getElementById("game");
let ctx = canvas.getContext("2d");

let player = {x:140,y:400};
let monsters=[];
let score=0;
let selectedChar="erkek";

let messages=[
"Ä°yi ki varsÄ±n canÄ±m karÄ±m â¤ï¸",
"Seni Ã§ok seviyorum â¤ï¸",
"Sen benim en gÃ¼zel mucizemsin â¤ï¸",
"Kalbim hep seninle â¤ï¸",
"Sen benim huzurumsun â¤ï¸"
];

function selectCharacter(char){
selectedChar=char;
document.getElementById("menu").style.display="none";
canvas.style.display="block";
startGame();
}

function startGame(){
score=0;
monsters=[];
gameLoop();
}

function spawnMonster(){
monsters.push({x:Math.random()*280,y:-20});
}

function gameLoop(){

ctx.clearRect(0,0,320,480);

ctx.fillStyle="white";
ctx.fillText("Skor: "+score,10,20);

if(selectedChar=="erkek") ctx.fillText("ğŸ‘¨",player.x,player.y);
else ctx.fillText("ğŸ‘©",player.x,player.y);

monsters.forEach(m=>{
m.y+=2;
ctx.fillText("ğŸ‘¾",m.x,m.y);

if(Math.abs(m.x-player.x)<20 && Math.abs(m.y-player.y)<20){
endGame();
}
});

if(Math.random()<0.02) spawnMonster();

score++;

if(score%200==0){
showRandomMessage();
}

requestAnimationFrame(gameLoop);
}

function showRandomMessage(){
canvas.style.display="none";
let msg = messages[Math.floor(Math.random()*messages.length)];
document.getElementById("romanticText").innerText=msg;
document.getElementById("messageScreen").style.display="block";

setTimeout(()=>{
document.getElementById("messageScreen").style.display="none";
canvas.style.display="block";
},2000);
}

function endGame(){
canvas.style.display="none";
document.getElementById("finalScreen").style.display="block";
document.getElementById("lastScore").innerText=score;
}

function restart(){
document.getElementById("finalScreen").style.display="none";
canvas.style.display="block";
startGame();
}

function openLetter(){
document.getElementById("letter").style.display="block";
}

document.addEventListener("touchmove",e=>{
player.x=e.touches[0].clientX-50;
});

</script>

</body>
</html>
